<html>

<head>
    <title>Three.js Geometries Example</title>
</head>

<body>

    <canvas id="myCanvas" width="800" height="800"></canvas>

    <script type="module">
        import * as THREE from "http://cs.merrimack.edu/~stuetzlec/three.js-master/build/three.module.js";

        var scene = new THREE.Scene();

        var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 500);
        camera.position.z = 80;
        camera.lookAt(new THREE.Vector3(0.0, 0.0, 0.0));
        scene.add(camera);


        var renderer = new THREE.WebGLRenderer({ canvas: myCanvas, antialias: true });
        renderer.setClearColor(0x000000);
        // If you want this to span the window, instead of using the myCanvas object, use the window object
        renderer.setPixelRatio(document.getElementById('myCanvas').devicePixelRatio);
        // If you want the render to span the window, uncomment this
        //renderer.setSize(window.innerWidth, window.innerHeight);

        let shards = [];

        function makeShard() {
            const front = 0.0;
            //Math.tan(Math.PI / 6)
            const back = 0.0;
            // Math.cos(Math.PI / 6)
            const vertices = [
                0, 1, 0, // 0: top
                1, 0, 0.0, // 1: right
                -1, 0, 0.0, // 2: left
                //  0, 0, -back, // 3: back middle
                0, -1, 0, // 4: bottom
            ]
            const faces = [
                2, 1, 0, // left, right, top
                1, 3, 0, // right, back, top
                3, 2, 0, // back, left, top
                2, 4, 1, // left, bottom, right
                1, 4, 3, // right, bottom, back
                3, 4, 2, // back, bottom, left
            ]
            const geometry = new THREE.PolyhedronGeometry(vertices, faces, 30, 0)
            const material = new THREE.MeshNormalMaterial()
            const mesh = new THREE.Mesh(geometry, material)
            scene.add(mesh)
            shards.push(mesh);

            // scale the mesh
            mesh.scale.set(0.5, 1, 0.5)
        }

        // let rotations = [0,2,-2,2,-2];
        // let xPos = [0,5,10,-5,0];
        // let yPos = [0,5,10,-5,0];

        // for ( let i = 0; i < rotations.length; i++){
        //     makeShard();
        //     shards[i].rotation.z = (rotations[i]);
        //     shards[i].position.set(xPos[i], yPos[i], 0);
        // }
       
        makeShard();

        function animate() {
           
            shards[0].rotateY(.01);
        //     for ( let i = 0; i < shards.length; i++){
        //         shards[i].rotateY(.01);
        // }
       
            
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        };

        animate();

        renderer.render(scene, camera);
    </script>
</body>

</html>